:root{
    --blue:#0C2C7A; --blue-pop:#2C6DFF; --gold:#E6B652; --gold2:#B98A2F;
    --ink:#0E0E0E; --muted:#4B4A46; --r:24px; --shadow:0 60px 140px rgba(12,44,122,.28);
    --bg: radial-gradient(1200px 780px at 50% 8%, #ffffff 0%, #ffffff 55%, rgba(12,44,122,.08) 75%, rgba(12,44,122,.16) 100%);
  }
  html,body{
    height:100%;margin:0;
    font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:var(--bg);color:var(--ink)
  }
  .wrap{max-width:1240px;margin:0 auto;padding:clamp(16px,4vw,32px)}
  header{display:grid;gap:8px;justify-items:center;text-align:center;margin-bottom:clamp(12px,2vw,18px)}
  h1{
    font-family:"Playfair Display",ui-serif,Georgia,serif;
    font-weight:600;color:var(--blue);
    font-size:clamp(28px,5vw,48px);margin:0
  }
  .lead{max-width:880px;color:var(--muted);line-height:1.75;margin:0}

  /* Search */
  .search-row{
    max-width:480px;
    margin:14px auto 4px;
  }
  .search-input{
    width:100%;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid rgba(12,44,122,.16);
    background:#fff;
    font-size:14px;
    box-shadow:0 10px 26px rgba(12,44,122,.12);
    outline:none;
  }
  .search-input::placeholder{color:#9a9a96;}

  /* Filters */
  .filters{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:10px 0 6px}
  .chip{
    padding:10px 14px;border-radius:999px;
    border:1px solid rgba(12,44,122,.16);
    background:linear-gradient(#fff,#F4F7FF);
    cursor:pointer;font-size:13px;
    transition:box-shadow .2s ease,border-color .2s ease,transform .1s ease;
  }
  .chip:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(12,44,122,.18)}
  .chip[aria-pressed="true"]{border-color:var(--gold);box-shadow:0 8px 22px rgba(185,138,47,.24)}

  /* Product grid */
  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
    gap:clamp(8px,2vw,14px);
    min-height:120px;
  }
  @media(min-width:980px){
    .grid{grid-template-columns:repeat(auto-fill,minmax(190px,1fr));}
  }
  .grid-empty{
    grid-column:1/-1;
    text-align:center;
    padding:40px 16px;
    color:var(--muted);
    font-size:14px;
  }
  .card{
    position:relative;border-radius:18px;overflow:hidden;
    background:#fff;border:1px solid rgba(12,44,122,.12);
    box-shadow:0 14px 36px rgba(12,44,122,.14);
    transition:transform .12s ease, box-shadow .28s ease;
    cursor:pointer;
  }
  .card:hover{transform:translateY(-2px);box-shadow:0 22px 60px rgba(12,44,122,.22)}
  .thumb{
    position:relative;aspect-ratio:1/1;
    background:#f4f6fa;
    overflow:hidden;
  }
  .thumb img{
    position:absolute;inset:0;width:100%;height:100%;
    object-fit:cover;object-position:center;
  }
  .thumb.placeholder{
    display:flex;flex-direction:column;
    align-items:center;justify-content:center;
    text-align:center;padding:10px;
    background:radial-gradient(circle at 0 0, rgba(230,182,82,.28), rgba(12,44,122,.05));
    color:#6f6f6f;font-size:11px;font-weight:500;
  }
  .thumb.placeholder span{
    display:inline-block;
    padding:4px 10px;
    border-radius:999px;
    border:1px dashed rgba(12,44,122,.25);
    background-color:rgba(255,255,255,.7);
  }
  .strip{position:absolute;top:0;left:0;right:0;height:5px;background:#0C2C7A}
  .body{padding:10px 12px}
  .name{font-weight:700;color:var(--blue);letter-spacing:.2px;font-size:clamp(13px,2.6vw,15px);line-height:1.35}
  .price{font-weight:750;margin-top:4px;font-size:clamp(12px,2.4vw,14px);color:#2A2A2A;opacity:.95}
  .cta-row{display:flex;gap:6px;margin-top:8px}
  .btn{
    position:relative;display:inline-flex;align-items:center;justify-content:center;
    gap:6px;padding:8px 12px;border-radius:999px;
    border:1px solid rgba(12,44,122,.16);
    background:linear-gradient(#fff,#F4F7FF);
    cursor:pointer;font-size:13px;
    transition:transform .1s ease, box-shadow .2s ease, background .2s ease;
  }
  .btn:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(12,44,122,.18)}
  .btn.gold{
    background:linear-gradient(135deg,var(--gold),var(--gold2));
    color:#111;border-color:transparent;
    box-shadow:0 10px 24px rgba(185,138,47,.32)
  }
  .btn.gold::after{
    content:"";position:absolute;inset:-120% -40% auto -40%;height:220%;
    background:linear-gradient(120deg,transparent 45%,rgba(255,255,255,.9) 50%,transparent 55%);
    animation:shine 3.2s linear infinite
  }
  @keyframes shine{to{transform:translateX(160%)}}

  /* PDP lightbox */
  .backdrop{
    position:fixed;inset:0;opacity:0;pointer-events:none;
    background:radial-gradient(1100px 700px at 50% 20%, rgba(255,255,255,.95), rgba(12,44,122,.40) 70%);
    backdrop-filter:blur(8px);transition:opacity .28s ease;z-index:40
  }
  .backdrop.show{opacity:1;pointer-events:auto}
  .modal{position:fixed;inset:0;display:grid;place-items:center;pointer-events:none;z-index:50}
  .pdp{
    position:absolute;width:min(1080px,94vw);max-height:min(88vh,900px);
    opacity:0;transform:translateZ(0);
    border-radius:var(--r);box-shadow:var(--shadow);
    background:#fff;display:grid;grid-template-columns:1fr;overflow:hidden
  }
  .pdp.show{opacity:1;pointer-events:auto}
  .pdp .strip{height:8px}
  .pdp-inner{display:grid;grid-template-columns:1fr;gap:14px;padding:16px}
  @media(min-width:980px){ .pdp-inner{grid-template-columns:1.2fr .8fr;padding:20px} }
  .pdp-media{position:relative;border-radius:18px;overflow:hidden;background:#f4f6fa;min-height:320px}
  .pdp-media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transform:scale(1.02);transition:transform .5s ease}
  .pdp-media:hover img{transform:scale(1.04)}
  .pdp-title{
    font-family:"Playfair Display",ui-serif,Georgia,serif;
    font-size:clamp(22px,4.6vw,36px);margin:0;color:var(--blue)
  }
  .pdp-sub{color:var(--muted);margin:6px 0 0}
  .pdp-price{font-weight:800;font-size:clamp(18px,3.2vw,24px);color:var(--blue);margin-top:6px}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
  .badge{padding:6px 10px;border-radius:999px;border:1px solid rgba(12,44,122,.14);font-size:12.5px;background:#fff}
  .qty{display:flex;align-items:center;gap:8px;margin-top:12px}
  .step{width:44px;height:44px;border-radius:12px;border:1px solid rgba(12,44,122,.18);background:linear-gradient(#fff,#F4F7FF);display:grid;place-items:center;cursor:pointer}
  .tiers{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .tier{border:1px dashed rgba(12,44,122,.25);border-radius:999px;padding:6px 10px;font-size:12.5px}
  .pdp-cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  .btn.close{position:absolute;top:10px;right:10px;width:40px;height:40px;border-radius:999px}

  .ghost{
    position:fixed;inset:auto;overflow:hidden;border-radius:var(--r);
    background:#fff;box-shadow:0 24px 70px rgba(12,44,122,.18);
    transform-origin:top left;will-change:transform,opacity;
    pointer-events:none !important;
  }

  @media (prefers-reduced-motion: reduce){ .pdp-media img{transition:none} }

  /* Sticky Cart Widget */
  .cart-fab{
    position:fixed;left:16px;bottom:16px;z-index:60;
    display:inline-flex;align-items:center;gap:10px;
    padding:12px 16px;border-radius:999px;
    background:radial-gradient(circle at 0 0,#ffffff, #F4F7FF);
    border:1px solid rgba(12,44,122,.18);
    box-shadow:0 16px 40px rgba(12,44,122,.24);
    cursor:pointer;
    transition:transform .2s ease, box-shadow .2s ease;
  }
  .cart-fab:hover{transform:translateY(-1px)}
  .cart-fab .cart-icon{font-size:16px;line-height:1}
  .cart-fab .dot{
    min-width:22px;height:22px;border-radius:999px;
    background:linear-gradient(135deg,var(--gold),var(--gold2));
    color:#111;display:grid;place-items:center;
    font-weight:800;font-size:12px;box-shadow:0 8px 18px rgba(185,138,47,.35)
  }
  .cart-fab .meta{font-weight:700;color:var(--blue);font-size:13px}
  .cart-fab.lead{animation:cartPulse 3s ease-in-out infinite}
  .cart-fab.lead .dot{display:none}
  .cart-fab.has-owner{
    width:54px;height:54px;padding:0;border-radius:999px;
    display:grid;place-items:center;gap:0;
  }
  .cart-fab.has-owner .meta{display:none}
  .cart-fab.has-owner .cart-icon{font-size:20px}
  .cart-fab.has-owner .dot{
    position:absolute;top:-4px;right:-4px;min-width:20px;height:20px;font-size:11px
  }
  @keyframes cartPulse{
    0%,100%{box-shadow:0 16px 40px rgba(12,44,122,.24)}
    50%{box-shadow:0 18px 55px rgba(12,44,122,.32), 0 0 0 8px rgba(230,182,82,.18)}
  }

  .drawer{
    position:fixed;left:50%;transform:translateX(-50%);bottom:-100%;
    width:min(1080px,96vw);max-height:82vh;
    background:#fff;border:1px solid rgba(12,44,122,.18);
    border-radius:22px 22px 0 0;
    box-shadow:0 -30px 120px rgba(12,44,122,.35);
    z-index:70;transition:bottom .35s cubic-bezier(.18,.9,.2,1)
  }
  .drawer.open{bottom:0}
  .drawer header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(12,44,122,.12)}
  .drawer h3{margin:0;color:var(--blue);font-size:18px}
  .drawer .close{width:36px;height:36px;border-radius:999px;border:1px solid rgba(12,44,122,.18);background:linear-gradient(#fff,#F4F7FF);cursor:pointer}
  .drawer .body{display:grid;grid-template-columns:1fr;gap:12px;padding:12px 14px;overflow:auto;max-height:calc(82vh - 130px)}
  .line{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;border:1px solid rgba(12,44,122,.12);border-radius:14px;padding:10px;background:#fff;box-shadow:0 10px 24px rgba(12,44,122,.12)}
  .line img{width:64px;height:64px;object-fit:cover;border-radius:10px}
  .line .name{font-weight:700;color:var(--blue);font-size:14px}
  .line .qty{display:flex;align-items:center;gap:6px}
  .pill{width:32px;height:32px;border-radius:10px;border:1px solid rgba(12,44,122,.18);background:linear-gradient(#fff,#F4F7FF);display:grid;place-items:center;cursor:pointer}
  .trash{margin-left:8px}
  .summary{display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(12,44,122,.12);padding:12px 16px;background:#FBFCFF;border-radius:0 0 22px 22px}
  .summary .subtotal{font-weight:800;color:var(--blue)}
  .cta-row-cart{display:flex;gap:10px;flex-wrap:wrap}
  .btn.gold.sheen::after{
    content:"";position:absolute;inset:-120% -40% auto -40%;height:220%;
    background:linear-gradient(120deg,transparent 45%,rgba(255,255,255,.9) 50%,transparent 55%);
    animation:shine 3.2s linear infinite
  }

  .upsells{margin-top:6px}
  .upsells h4{margin:6px 0;color:var(--blue);font-size:16px}
  .ups-grid{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(160px,1fr);gap:10px;overflow:auto;padding-bottom:6px}
  .ups-card{border:1px solid rgba(12,44,122,.12);border-radius:14px;background:#fff;box-shadow:0 12px 26px rgba(12,44,122,.12);padding:8px}
  .ups-card img{width:100%;height:110px;object-fit:cover;border-radius:10px}
  .ups-card .nm{font-size:13px;color:var(--blue);font-weight:700;margin-top:6px}
  .ups-card .pr{font-size:13px}

  /* 24-Hour Cart Browsing Prompt */
  .prompt-backdrop{
    position:fixed;inset:0;
    background:radial-gradient(900px 600px at 50% 20%, rgba(255,255,255,.9), rgba(12,44,122,.45) 70%);
    backdrop-filter:blur(6px);opacity:0;pointer-events:none;
    transition:opacity .25s ease;z-index:80
  }
  .prompt-backdrop.show{opacity:1;pointer-events:auto}
  .prompt-modal{
    position:fixed;left:50%;top:52%;
    transform:translate(-50%,-50%) scale(.98);
    opacity:0;z-index:90;
    width:min(980px,94vw);
    background:#fff;border-radius:22px;
    border:1px solid rgba(12,44,122,.12);
    box-shadow:0 40px 120px rgba(12,44,122,.4), 0 0 0 1px rgba(230,182,82,.25);
    display:grid;grid-template-columns:1fr;
    overflow:hidden;
    transition:transform .28s cubic-bezier(.18,.9,.2,1), opacity .25s ease;
    pointer-events:none;
  }
  .prompt-modal.show{
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
    pointer-events:auto;
  }
  .prompt-grid{display:grid;grid-template-columns:1fr;gap:0}
  @media(min-width:900px){ .prompt-grid{grid-template-columns:1.05fr .95fr} }
  .prompt-media{position:relative;min-height:280px;background:#f4f6fa}
  .prompt-media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.05)}
  .prompt-body{padding:18px 18px 16px}
  .prompt-title{
    font-family:"Playfair Display",ui-serif,Georgia,serif;
    margin:0 0 6px;color:var(--blue);font-size:clamp(22px,4.8vw,34px)
  }
  .prompt-copy{color:#3b3a37;line-height:1.7;margin:0 0 10px}
  .prompt-gate{
    margin:0 0 8px;
    padding:10px 12px;border-radius:12px;
    background:rgba(12,44,122,.08);
    color:var(--blue);font-weight:600;font-size:14px;
  }
  .prompt-bullets{margin:8px 0 12px;padding-left:18px;color:#4B4A46;font-size:14px}
  .prompt-urgency{margin:0 0 12px;color:#3b3a37;font-size:13.5px;font-weight:600}
  .prompt-form{display:grid;gap:10px}
  .prompt-form input{padding:12px 14px;border-radius:12px;border:1px solid rgba(12,44,122,.18);background:#fff;font-size:14px}
  .prompt-cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .btn.text{background:transparent;border-color:transparent;color:#2b4ca8;text-decoration:underline}
  .prompt-close{
    position:absolute;top:10px;right:10px;
    width:32px;height:32px;border-radius:999px;
    border:1px solid rgba(12,44,122,.18);
    background:linear-gradient(#fff,#F4F7FF);
    display:grid;place-items:center;
    font-size:16px;cursor:pointer;
    box-shadow:0 8px 18px rgba(12,44,122,.18);
  }
